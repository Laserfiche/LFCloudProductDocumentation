<?xml version="1.0" encoding="utf-8"?>
<html xmlns:MadCap="http://www.madcapsoftware.com/Schemas/MadCap.xsd">
    <head>
    </head>
    <body>
        <h1>Creating a Node.js Script</h1>
        <p>This topic provides an overview on creating a sample Node.js script for use with a Laserfiche Cloud <a href="scripts.htm">Script Rule</a>.</p>
        <ol>
            <li>Ensure that Node.js is installed on the remote agent host, and that the system variables have been configured to allow "node" or "node.exe" to run command-line Node.js scripts.</li>
            <li>Create a .js script file or use our <a href="https://support.laserfiche.com/download/4146/laserfiche-cloud-custom-scripting-starting-templates" title="Node.js Script Starting Template" alt="Node.js Script Starting Template">helper script</a>. Inputs in the script can be accessed by:            <p class="ex">process.argv[2] (…) process.argv[n+1]</p><p> which will return the inputs to the script in the format:</p><p class="ex"> "inputName1=value1" (…) "inputNamen=valuen" </p><p>which can be parsed in your script.</p><p>Outputs from the script should be printed to the standard output in the format:</p><p class="ex">"outputName1:value1"</p></li>
            <li>The following is an example of a Node.js script that takes two inputs, combines them, and returns them as a single output value.</li><pre class="ex">
const process = require('process');
				
let input1 = process.argv[2];
let idx1 = input1.indexOf('=');
let inputValue1 = input1.substring(idx1+1);
				
let input2 = process.argv[3];
let idx2 = input2.indexOf('=');
let inputValue2 = input2.substring(idx2+1);
				
var echoinput = function(z1,z2){
	console.log("outputValue1:"+z1+" "+z2);
}
				
echoinput(inputValue1, inputValue2);
</pre>
        </ol>
        <h3>Related Links</h3>
        <p>See the following <a href="https://github.com/Laserfiche/lf-sample-javascript-script-rules" target="_blank" title="Laserfiche&#160;Github page for JavaScript" alt="Laserfiche&#160;Github page for JavaScript">Laserfiche&#160;Github page</a> to download blank script templates for your node.js scripts.</p>
    </body>
</html>